<!DOCTYPE html>
<html>
<head>
  <title>Dashboard | eHealth Cloud</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="container">
    <h1>Welcome, <%= user.email %> ðŸ‘‹</h1>
    <nav>
      <a href="/add-patient">âž• Add Patient</a>
      <button onclick="logout()">Logout</button>
    </nav>
    <hr>

    <h2>Patients List</h2>
    <ul>
      <% if (patients.length > 0) { %>
        <% patients.forEach(p => { %>
          <li>
            <a href="/patient/<%= p.id %>"><%= p.name %> (Age: <%= p.age %>)</a>
          </li>
        <% }) %>
      <% } else { %>
        <p>No patients added yet.</p>
      <% } %>
    </ul>
  </div>

  <!-- Load Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  
  <!-- Load config BEFORE auth.js -->
  <script src="/js/firebase-client-config.js"></script>
  
  <!-- Load auth.js LAST -->
  <script src="/js/auth.js"></script>
</body>
</html>